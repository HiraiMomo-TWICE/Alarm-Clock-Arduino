[{"id":"3975961.cc7356a","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"5118f538.01f9ac","type":"inject","z":"3975961.cc7356a","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":540,"wires":[["4ff79f8b.1fbd5"]]},{"id":"2d54b7ed.fda018","type":"json","z":"3975961.cc7356a","name":"JSON Parser","property":"payload","action":"obj","pretty":true,"x":310,"y":140,"wires":[["fee2f298.f0a1b","fcf5abd1.0727b8"]]},{"id":"4ff79f8b.1fbd5","type":"file in","z":"3975961.cc7356a","name":"Location","filename":"C:\\Users\\ASUS\\Documents\\HCMUS\\git\\Alarm-Clock-Arduino\\Alarm_Clock\\data.json","format":"utf8","chunk":false,"sendError":false,"encoding":"utf8","x":120,"y":140,"wires":[["2d54b7ed.fda018"]]},{"id":"9ae879cd.bd89d8","type":"ui_dropdown","z":"3975961.cc7356a","name":"","label":"Country","tooltip":"","place":"Select option","group":"2242a3b.bba505c","order":4,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"","value":"","type":"str"}],"payload":"","topic":"options","topicType":"msg","x":740,"y":140,"wires":[["2ee5092f.d863e6"]]},{"id":"fe000015.cb567","type":"ui_dropdown","z":"3975961.cc7356a","name":"","label":"Select 1","tooltip":"","place":"Select option 1","group":"86228.687a5dd88","order":2,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"A","value":"A","type":"str"},{"label":"B","value":"B","type":"str"}],"payload":"","topic":"S1","topicType":"str","x":360,"y":780,"wires":[["4824b297.cf378c"]]},{"id":"5c0814e2.f909cc","type":"ui_button","z":"3975961.cc7356a","name":"","group":"86228.687a5dd88","order":4,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","topicType":"str","x":370,"y":900,"wires":[["3c943ed0.3fd552"]]},{"id":"e8a2dda2.21b51","type":"ui_dropdown","z":"3975961.cc7356a","name":"","label":"Select 2","tooltip":"","place":"Select option 2","group":"86228.687a5dd88","order":2,"width":0,"height":0,"passthru":true,"options":[{"label":"C","value":"C","type":"str"},{"label":"D","value":"D","type":"str"}],"payload":"","topic":"S2","x":370,"y":840,"wires":[["4824b297.cf378c"]]},{"id":"4824b297.cf378c","type":"join","z":"3975961.cc7356a","name":"","mode":"custom","build":"object","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":true,"timeout":"","count":"1","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":550,"y":800,"wires":[["a3d05155.f4a6c"]]},{"id":"a3d05155.f4a6c","type":"change","z":"3975961.cc7356a","name":"","rules":[{"t":"set","p":"selected","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":800,"wires":[[]]},{"id":"3c943ed0.3fd552","type":"change","z":"3975961.cc7356a","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"selected","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":900,"wires":[["b8dae18b.dfdc1"]]},{"id":"b8dae18b.dfdc1","type":"debug","z":"3975961.cc7356a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":800,"y":900,"wires":[]},{"id":"fee2f298.f0a1b","type":"function","z":"3975961.cc7356a","name":"","func":"let temp = []\n\nfor (let key in msg.payload) {\n    if ((msg.payload).hasOwnProperty(key)) {\n        let opt = {};\n        opt[key] = key;\n        temp.push(opt);\n    }\n}\n\nmsg.options = temp;\n\nflow.set(\"data\", msg.payload)\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":520,"y":140,"wires":[["9ae879cd.bd89d8"]]},{"id":"2ee5092f.d863e6","type":"function","z":"3975961.cc7356a","name":"","func":"let tempData = flow.get(\"data\")[msg.payload];\n\nlet temp = []\n\nfor(let i=0; i<tempData.length; i++){\n    let opt = {};\n    opt[tempData[i]] = tempData[i];\n    temp.push(opt)\n}\n\nmsg.options = temp;\nflow.set(\"country\", msg.payload)\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":960,"y":140,"wires":[["43e02957.0da5d8"]]},{"id":"328a4a07.e92c06","type":"openweathermap","z":"3975961.cc7356a","name":"Current weather","wtype":"current","lon":"","lat":"","city":"msg.location.city","country":"msg.location.country","language":"en","x":1020,"y":440,"wires":[["563c5a9.a9ee6a4","aa5c87c8.bddcd8","da653d44.7999d","21ff6bcf.2f57a4","44e20b38.58bf14"]]},{"id":"563c5a9.a9ee6a4","type":"change","z":"3975961.cc7356a","name":"Set temperature","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.tempc","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1280,"y":320,"wires":[["35f6c389.123adc"]]},{"id":"129040ae.5f410f","type":"ui_text","z":"3975961.cc7356a","group":"2242a3b.bba505c","order":1,"width":0,"height":0,"name":"Temperature","label":"Temperature","format":"{{msg.payload}}","layout":"row-spread","x":1750,"y":320,"wires":[]},{"id":"aa5c87c8.bddcd8","type":"change","z":"3975961.cc7356a","name":"Set humidity","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.humidity","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1270,"y":400,"wires":[["edb5d7eb.594a38"]]},{"id":"ba78e432.f27f38","type":"ui_text","z":"3975961.cc7356a","group":"2242a3b.bba505c","order":1,"width":0,"height":0,"name":"Humidity","label":"Humidity","format":"{{msg.payload}}","layout":"row-spread","x":1760,"y":400,"wires":[]},{"id":"da653d44.7999d","type":"debug","z":"3975961.cc7356a","name":"Debug log","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1260,"y":560,"wires":[]},{"id":"21ff6bcf.2f57a4","type":"change","z":"3975961.cc7356a","name":"Set location","rules":[{"t":"set","p":"payload","pt":"msg","to":"location.country","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1270,"y":480,"wires":[["9c0719aa.ae7a38"]]},{"id":"9c0719aa.ae7a38","type":"ui_text","z":"3975961.cc7356a","group":"2242a3b.bba505c","order":2,"width":0,"height":0,"name":"","label":"City","format":"{{msg.payload}}","layout":"row-spread","x":1470,"y":480,"wires":[]},{"id":"35f6c389.123adc","type":"function","z":"3975961.cc7356a","name":"Add symbol for temperature","func":"msg.payload = msg.payload + \"Â°C\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1520,"y":320,"wires":[["129040ae.5f410f"]]},{"id":"edb5d7eb.594a38","type":"function","z":"3975961.cc7356a","name":"Add symbol for humidity","func":"msg.payload = msg.payload + \"%\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1530,"y":400,"wires":[["ba78e432.f27f38"]]},{"id":"43e02957.0da5d8","type":"ui_dropdown","z":"3975961.cc7356a","name":"","label":"City","tooltip":"","place":"Select option","group":"2242a3b.bba505c","order":8,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"","value":"","type":"str"}],"payload":"","topic":"options","topicType":"msg","x":1170,"y":140,"wires":[["9d9749d2.56c708"]]},{"id":"9d9749d2.56c708","type":"change","z":"3975961.cc7356a","name":"","rules":[{"t":"set","p":"city","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":140,"wires":[[]]},{"id":"7be9d605.719708","type":"ui_button","z":"3975961.cc7356a","name":"","group":"2242a3b.bba505c","order":8,"width":0,"height":0,"passthru":false,"label":"button","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"topic","topicType":"msg","x":410,"y":440,"wires":[["4ff7d3d5.09a06c","8a395a1b.897928"]]},{"id":"4ff7d3d5.09a06c","type":"change","z":"3975961.cc7356a","name":"","rules":[{"t":"set","p":"location.country","pt":"msg","to":"country","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":360,"wires":[["21e2f73b.a49ef8"]]},{"id":"8a395a1b.897928","type":"change","z":"3975961.cc7356a","name":"","rules":[{"t":"set","p":"location.city","pt":"msg","to":"city","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":640,"y":480,"wires":[["21e2f73b.a49ef8"]]},{"id":"fcf5abd1.0727b8","type":"debug","z":"3975961.cc7356a","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":610,"y":260,"wires":[]},{"id":"44e20b38.58bf14","type":"debug","z":"3975961.cc7356a","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"location.city","targetType":"msg","statusVal":"","statusType":"auto","x":1250,"y":240,"wires":[]},{"id":"21e2f73b.a49ef8","type":"function","z":"3975961.cc7356a","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":840,"y":440,"wires":[["328a4a07.e92c06"]]},{"id":"2242a3b.bba505c","type":"ui_group","name":"Default","tab":"773c1f5c.ca2f7","order":1,"disp":true,"width":"6","collapse":false},{"id":"86228.687a5dd88","type":"ui_group","name":"Default","tab":"e006699.f40dd98","order":1,"disp":true,"width":"6","collapse":false},{"id":"773c1f5c.ca2f7","type":"ui_tab","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"e006699.f40dd98","type":"ui_tab","name":"Home","icon":"dashboard","disabled":false,"hidden":false}]